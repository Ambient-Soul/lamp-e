nodes:
  - id: lcr-left-leader
    build: pip install ../../../node-hub/dynamixel-client
    path: dynamixel-client
    inputs:
      pull_position:
        source: dora/timer/millis/5 # pull the position every 10ms
        queue_size: 1
    outputs:
      - position
    env:
      PORT: /dev/tty.usbmodem575E0030111

      IDS: 1 2 3 4 5 6
      JOINTS: shoulder_pan shoulder_lift elbow_flex wrist_flex wrist_roll gripper
      MODELS: x_series x_series x_series x_series x_series x_series

      TORQUE: False False False False False True

      INITIAL_GOAL_POSITION: None None None None None -450
      INITIAL_GOAL_CURRENT: None None None None None 40

      OFFSETS:  -2048 -3072 1024 -2048 1024 2048
      DRIVE_MODES:  POS POS NEG POS NEG NEG

  - id: lcr-to-lcr-left
    path: ../nodes/interpolate_lcr_to_lcr.py
    inputs:
      leader_position:
        source: lcr-left-leader/position
        queue_size: 1

      follower_position:
        source: lcr-left-follower/position
        queue_size: 1
    outputs:
      - goal_position

  - id: lcr-left-follower
    build: pip install ../../../node-hub/dynamixel-client
    path: dynamixel-client
    inputs:
      pull_position:
        source: dora/timer/millis/5
        queue_size: 1

      write_goal_position:
        source: lcr-to-lcr-left/goal_position
        queue_size: 1
    outputs:
      - position
    env:
      PORT: /dev/tty.usbmodem575E0031141

      IDS: 1 2 3 4 5 6
      JOINTS: shoulder_pan shoulder_lift elbow_flex wrist_flex wrist_roll gripper
      MODELS: x_series x_series x_series x_series x_series x_series

      TORQUE: True True True True True True

      INITIAL_GOAL_POSITION: None None None None None None
      INITIAL_GOAL_CURRENT: None None None None None 500

      OFFSETS:  -2048 2048 2048 2048 1024 2048
      DRIVE_MODES:  POS NEG NEG NEG NEG NEG

  - id: lcr-right-leader
    build: pip install ../../../node-hub/dynamixel-client
    path: dynamixel-client
    inputs:
      pull_position:
        source: dora/timer/millis/5 # pull the position every 10ms
        queue_size: 1

    outputs:
      - position
    env:
      PORT: /dev/tty.usbmodem575E0030531

      IDS: 1 2 3 4 5 6
      JOINTS: shoulder_pan shoulder_lift elbow_flex wrist_flex wrist_roll gripper
      MODELS: x_series x_series x_series x_series x_series x_series

      TORQUE: False False False False False True

      INITIAL_GOAL_POSITION: None None None None None -450
      INITIAL_GOAL_CURRENT: None None None None None 40

      OFFSETS:  -2048 1024 2048 -1024 1024 2048
      DRIVE_MODES:  POS NEG NEG POS NEG NEG

  - id: lcr-to-lcr-right
    path: ../nodes/interpolate_lcr_to_lcr.py
    inputs:
      leader_position:
        source: lcr-right-leader/position
        queue_size: 1

      follower_position:
        source: lcr-right-follower/position
        queue_size: 1
    outputs:
      - goal_position

  - id: lcr-right-follower
    build: pip install ../../../node-hub/dynamixel-client
    path: dynamixel-client
    inputs:
      pull_position:
        source: dora/timer/millis/5
        queue_size: 1

      write_goal_position:
        source: lcr-to-lcr-right/goal_position
        queue_size: 1
    outputs:
      - position
    env:
      PORT: /dev/tty.usbmodem575E0032531

      IDS: 1 2 3 4 5 6
      JOINTS: shoulder_pan shoulder_lift elbow_flex wrist_flex wrist_roll gripper
      MODELS: x_series x_series x_series x_series x_series x_series

      TORQUE: True True True True True True

      INITIAL_GOAL_POSITION: None None None None None None
      INITIAL_GOAL_CURRENT: None None None None None 500

      OFFSETS:  -2048 -1024 -1024 2048 1024 0
      DRIVE_MODES:  POS POS POS NEG NEG NEG
